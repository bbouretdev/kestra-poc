id: get-all-pokemons
namespace: poc.pokeapi
tasks:
  - id: list-pokemons
    type: io.kestra.plugin.scripts.python.Script
    docker:
      image: python:slim
    beforeCommands:
      - pip install requests
    script: "{{ read('scripts/scripts/listPokemons.py') }}"
  - id: extract-pokemon-data
    type: io.kestra.plugin.scripts.python.Script
    inputFiles:
      pokemons.json: "{{ outputs.python1.outputFiles['pokemons.json'] }}"
    docker:
      image: python:slim
    beforeCommands:
      - pip install requests
    script: "{{ read('scripts/scripts/extractPokemonData.py') }}"